<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù ÌÄ¥Ï¶à</title>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    .question { font-weight: bold; margin-bottom: 10px; white-space: pre-wrap; }
    .code-input { width: 100%; height: 150px; margin-top: 10px; font-family: monospace; font-size: 14px; }
    .result { margin-top: 15px; font-weight: bold; white-space: pre-wrap; }
    button { margin-top: 15px; padding: 10px; margin-right: 10px; }
    .section { margin-bottom: 30px; }
    .description { background: #f5f5f5; padding: 10px; margin-bottom: 15px; border-left: 4px solid #999; white-space: pre-wrap; }
    select { margin-top: 10px; padding: 8px; font-size: 14px; }
  </style>
</head>
<body>
  <h1>Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑùÍ∞Ä ÌõàÎ†® ÏõπÏÇ¨Ïù¥Ìä∏</h1>
  <label for="levelSelect">Î†àÎ≤® ÏÑ†ÌÉù: </label>
  <select id="levelSelect" onchange="changeLevel()">
    <option value="basic">Í∏∞Ï¥à</option>
    <option value="intermediate">Ï§ëÍ∏â</option>
    <option value="advanced">Í≥†Í∏â</option>
  </select>
  <div class="description" id="description"></div>
  <div class="question" id="question"></div>
  <textarea id="codeInput" class="code-input" placeholder="Ïó¨Í∏∞Ïóê ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></textarea>
  <div>
    <button onclick="checkCode()">Ï†úÏ∂ú</button>
    <button onclick="nextQuestion()">Îã§Ïùå Î¨∏Ï†ú</button>
    <button onclick="repeatQuestion()">Îã§Ïãú ÌíÄÍ∏∞</button>
  </div>
  <div class="result" id="result"></div>
  <div class="section" id="explanation"></div>
  <script>
    let pyodide;
    async function initApp() {
      pyodide = await loadPyodide();
      await pyodide.loadPackage(["numpy", "pandas"]);
      showQuestion();
    }
    const allQuizData = {
      basic: [... ÏÉùÎûµ ...]
    };
    let current = 0;
    let currentLevel = 'basic';
    let quizData = allQuizData[currentLevel];
    function showQuestion() {
      document.getElementById('result').textContent = "";
      document.getElementById('explanation').textContent = "";
      document.getElementById('question').textContent = quizData[current].question;
      document.getElementById('description').textContent = quizData[current].description;
      document.getElementById('codeInput').value = "";
    }
    async function checkCode() {
      const userCode = document.getElementById('codeInput').value.trim();
      const resultDiv = document.getElementById('result');
      const explainDiv = document.getElementById('explanation');
      resultDiv.style.color = "black";
      resultDiv.textContent = "‚è≥ Ïã§Ìñâ Ï§ë...";
      try {
        const output = await pyodide.runPythonAsync(`import sys
from io import StringIO
output = StringIO()
sys.stdout = output
` + userCode + `
sys.stdout = sys.__stdout__
output.getvalue()`);
        resultDiv.textContent = `‚úÖ Ïã§Ìñâ Í≤∞Í≥º:
${output}`;
        resultDiv.style.color = "green";
      } catch (err) {
        resultDiv.textContent = `‚ùå Ïò§Î•ò Î∞úÏÉù:
${err}`;
        resultDiv.style.color = "red";
      }
      explainDiv.textContent = "üìò Ìï¥ÏÑ§: " + quizData[current].explanation;
    }
    function nextQuestion() {
      current = (current + 1) % quizData.length;
      showQuestion();
    }
    function repeatQuestion() {
      showQuestion();
    }
    function changeLevel() {
      currentLevel = document.getElementById('levelSelect').value;
      quizData = allQuizData[currentLevel];
      current = 0;
      showQuestion();
    }
    initApp();
  </script>
</body>
</html>